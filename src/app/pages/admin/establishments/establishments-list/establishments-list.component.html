<div class="establishments-list-container">
    <div class="header-bar">
        <h2>
            <i class="bi bi-building"></i> Estabelecimentos
        </h2>
        <button class="btn-primary" (click)="criarNovo()">
            <i class="bi bi-plus-circle"></i> Novo Estabelecimento
        </button>
    </div>

    <div *ngIf="loading()" class="loading">
        <i class="bi bi-arrow-repeat spin"></i> Carregando estabelecimentos...
    </div>
    <div *ngIf="error()" class="error-msg">
        <i class="bi bi-exclamation-triangle"></i> {{ error() }}
    </div>

    <table *ngIf="!loading() && hasEstablishments()" class="premium-table">
        <thead>
            <tr>
                <th>Nome</th>
                <th>CNPJ</th>
                <th>Email</th>
                <th>Telefone</th>
                <th style="width:140px">Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let est of establishments(); let i = index" [class.zebra]="i % 2 === 1">
                <td>{{ est.name }}</td>
                <td>{{ est.cnpj || '-' }}</td>
                <td>{{ est.email || '-' }}</td>
                <td>{{ est.phone || '-' }}</td>
                <td>
                    <button class="btn-outline" (click)="visualizar(est)">
                        <i class="bi bi-eye"></i>
                    </button>
                    <button class="btn-primary" (click)="editar(est)">
                        <i class="bi bi-pencil"></i>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="!loading() && !hasEstablishments()" class="empty-list">
        <i class="bi bi-building-exclamation"></i> Nenhum estabelecimento encontrado.
    </div>
</div>
  