<ion-content class="login-selector dark-theme" fullscreen>
  <div class="login-wrapper">
    <ion-card class="login-card">
      <ion-card-content>

        <!-- Seletor de tipo de login -->
        <ion-item lines="none" class="selector-item">
          <ion-label>Login como:</ion-label>
          <ion-select [(ngModel)]="loginType" interface="popover">
            <ion-select-option value="company">Empresa</ion-select-option>
            <ion-select-option value="client">Cliente</ion-select-option>
          </ion-select>
        </ion-item>

        <!-- FORMULÁRIO PARA EMPRESA -->
        <form *ngIf="loginType === 'company'" [formGroup]="companyForm" (ngSubmit)="onCompanyLogin()"
          class="company-form">
          <ion-item>
            <ion-icon slot="start" name="mail"></ion-icon>
            <ion-input formControlName="email" type="email" placeholder="Digite seu email"></ion-input>
          </ion-item>

          <ion-item>
            <ion-icon slot="start" name="lock-closed"></ion-icon>
            <ion-input formControlName="password" type="password" placeholder="Digite sua senha"></ion-input>
          </ion-item>

          <ion-button expand="block" type="submit" [disabled]="isLoading()">
            Entrar
          </ion-button>

          <div class="link-row">
            <ion-text>Esqueci a senha</ion-text>
          </div>

          <div class="new-client-row">
            <ion-router-link routerLink="/escolher-plano" class="link-button" color="warning">
              <ion-icon name="pricetag" slot="start"></ion-icon>
              Compre um plano
            </ion-router-link>
          </div>
        </form>

        <!-- FORMULÁRIO PARA CLIENTE -->
        <form *ngIf="loginType === 'client'" [formGroup]="clientForm" (ngSubmit)="onClientLogin()" class="client-form">
          <ion-item>
            <ion-icon slot="start" name="mail"></ion-icon>
            <ion-input formControlName="email" type="email" placeholder="Digite seu email"></ion-input>
          </ion-item>

          <ion-item>
            <ion-icon slot="start" name="lock-closed"></ion-icon>
            <ion-input formControlName="password" type="password" placeholder="Digite sua senha"></ion-input>
          </ion-item>

          <ion-button expand="block" type="submit" [disabled]="isLoading()">
            Entrar
          </ion-button>

          <div class="link-row">
            <ion-text>Esqueci a senha</ion-text>
          </div>

          <ion-item class="cupom-box">
            <ion-icon slot="start" name="pricetag"></ion-icon>
            <ion-input placeholder="Digite seu cupom" formControlName="coupon"></ion-input>
            <ion-button type="submit" size="small" color="danger" slot="end">
              Aplicar
            </ion-button>
          </ion-item>
        </form>

        <!-- SPINNER DE CARREGAMENTO -->
        <ion-spinner *ngIf="isLoading()" name="crescent" class="spinner"></ion-spinner>

        <!-- MENSAGEM DE ERRO -->
        <ion-text color="danger" *ngIf="errorMessage()">
          <p class="error-msg">{{ errorMessage() }}</p>
        </ion-text>

      </ion-card-content>
    </ion-card>
  </div>

 
</ion-content>