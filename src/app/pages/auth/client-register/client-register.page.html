<ion-header>
  <ion-toolbar>
    <ion-title>Finalizar Cadastro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Complete seu Cadastro</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <!-- Dados Pessoais -->
        <ion-item>
          <ion-label position="stacked">Nome</ion-label>
          <ion-input formControlName="first_name" placeholder="Digite seu nome"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Sobrenome</ion-label>
          <ion-input formControlName="last_name" placeholder="Digite seu sobrenome"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">CPF</ion-label>
          <ion-input formControlName="cpf" placeholder="Digite seu CPF"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Telefone</ion-label>
          <ion-input formControlName="phone" placeholder="Digite seu telefone"></ion-input>
        </ion-item>

        <!-- Dados de Senha -->
        <ion-item>
          <ion-label position="stacked">Senha</ion-label>
          <ion-input formControlName="password" type="password" placeholder="Digite sua senha"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="stacked">Confirmar Senha</ion-label>
          <ion-input formControlName="confirmPassword" type="password" placeholder="Confirme sua senha"></ion-input>
        </ion-item>

        <!-- Endereço -->
        <ion-card-header>
          <ion-card-title>Endereço</ion-card-title>
        </ion-card-header>
        <div formGroupName="address">
          <ion-item>
            <ion-label position="stacked">Rua</ion-label>
            <ion-input formControlName="street" placeholder="Digite o nome da rua"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Número</ion-label>
            <ion-input formControlName="number" placeholder="Digite o número"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Complemento</ion-label>
            <ion-input formControlName="complement" placeholder="Ex: Apto, Bloco"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Bairro</ion-label>
            <ion-input formControlName="neighborhood" placeholder="Digite o bairro"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Cidade</ion-label>
            <ion-input formControlName="city" placeholder="Digite a cidade"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">Estado</ion-label>
            <ion-input formControlName="state" placeholder="Digite o estado"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">CEP</ion-label>
            <ion-input formControlName="postal_code" placeholder="Digite o CEP"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked">País</ion-label>
            <ion-input formControlName="country" placeholder="Digite o país (opcional)"></ion-input>
          </ion-item>
        </div>

        <ion-text color="danger" *ngIf="errorMessage">
          <p>{{ errorMessage }}</p>
        </ion-text>

        <ion-button expand="block" type="submit" [disabled]="isLoading">
          <ng-container *ngIf="!isLoading">Finalizar Cadastro</ng-container>
          <ng-container *ngIf="isLoading">
            <ion-spinner name="crescent"></ion-spinner>
          </ng-container>
        </ion-button>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>